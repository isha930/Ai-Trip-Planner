import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
  
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for location: pune maharashtra for 3 days which should be Budget-Friendly Affordable options for cost-conscious travelers , give me hotel option list with HotelName , Hotel Address ,Price,Hotel image url , geo coordinates ,rating ,description and suggest itinerary with placeName ,Place Details ,Place image url ,geo coordinates , ticket pricing , Time t travel each of the location for 3 days with each each day plan with best time to visit in json format\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotel_options\": [\n    {\n      \"hotelName\": \"Hotel Rajshri\",\n      \"hotelAddress\": \"132/2, Shivaji Nagar, Pune, Maharashtra 411005\",\n      \"price\": \"₹1000 - ₹2000 per night\",\n      \"hotelImageUrl\": \"https://www.oyorooms.com/hotels/pune/hotel-rajshri-shivaji-nagar-pune-22852/\",\n      \"geoCoordinates\": \"18.5336° N, 73.8505° E\",\n      \"rating\": 3.5,\n      \"description\": \"A budget-friendly hotel in the heart of Pune, offering clean and comfortable rooms with basic amenities.\"\n    },\n    {\n      \"hotelName\": \"Hotel Atithi\",\n      \"hotelAddress\": \"177/1, MG Road, Camp, Pune, Maharashtra 411001\",\n      \"price\": \"₹1500 - ₹3000 per night\",\n      \"hotelImageUrl\": \"https://www.tripadvisor.in/Hotel_Review-g297605-d1001050-Reviews-Hotel_Atithi-Pune_Maharashtra.html\",\n      \"geoCoordinates\": \"18.5204° N, 73.8567° E\",\n      \"rating\": 4.0,\n      \"description\": \"A well-maintained hotel with spacious rooms and a rooftop restaurant, offering a good value for money.\"\n    },\n    {\n      \"hotelName\": \"Treebo Trend The Jewel\",\n      \"hotelAddress\": \"54, Karve Nagar, Pune, Maharashtra 411052\",\n      \"price\": \"₹2000 - ₹4000 per night\",\n      \"hotelImageUrl\": \"https://www.treebo.com/hotels/pune/treebo-trend-the-jewel-karve-nagar-pune\",\n      \"geoCoordinates\": \"18.5054° N, 73.8332° E\",\n      \"rating\": 4.5,\n      \"description\": \"A modern hotel with stylish rooms, complimentary breakfast, and a convenient location near the city center.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"dayPlan\": [\n        {\n          \"placeName\": \"Aga Khan Palace\",\n          \"placeDetails\": \"A historic monument known for its association with Mahatma Gandhi and his family during their imprisonment.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Aga_Khan_Palace_%28Pune%29.jpg/1280px-Aga_Khan_Palace_%28Pune%29.jpg\",\n          \"geoCoordinates\": \"18.5211° N, 73.8739° E\",\n          \"ticketPricing\": \"₹10 per person\",\n          \"timeToTravel\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Shaniwar Wada\",\n          \"placeDetails\": \"A historical fort built by the Peshwa rulers, showcasing traditional Maratha architecture and a historical museum.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Shaniwar_Wada%2C_Pune.jpg/1280px-Shaniwar_Wada%2C_Pune.jpg\",\n          \"geoCoordinates\": \"18.5226° N, 73.8500° E\",\n          \"ticketPricing\": \"₹10 per person\",\n          \"timeToTravel\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Parvati Hill\",\n          \"placeDetails\": \"A hilltop temple complex with panoramic views of Pune city, offering a peaceful escape from the city bustle.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9b/Parvati_Temple_Pune_India.jpg/1280px-Parvati_Temple_Pune_India.jpg\",\n          \"geoCoordinates\": \"18.5267° N, 73.8486° E\",\n          \"ticketPricing\": \"₹10 per person\",\n          \"timeToTravel\": \"2-3 hours\"\n        }\n      ],\n      \"bestTimetoVisit\": \"Morning or late afternoon to avoid the midday heat.\"\n    },\n    {\n      \"day\": 2,\n      \"dayPlan\": [\n        {\n          \"placeName\": \"Sinhagad Fort\",\n          \"placeDetails\": \"A historic fort perched on a hilltop, offering breathtaking views of the surrounding landscape. Accessible by a trek or by car.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Sinhagad_Fort_Pune.jpg/1280px-Sinhagad_Fort_Pune.jpg\",\n          \"geoCoordinates\": \"18.4794° N, 73.8687° E\",\n          \"ticketPricing\": \"₹20 per person\",\n          \"timeToTravel\": \"4-5 hours (including travel time)\"\n        },\n        {\n          \"placeName\": \"Raja Dinkar Kelkar Museum\",\n          \"placeDetails\": \"A museum showcasing a vast collection of artifacts, sculptures, and paintings from various periods, highlighting Indian art and culture.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Raja_Dinkar_Kelkar_Museum%2C_Pune.jpg/1280px-Raja_Dinkar_Kelkar_Museum%2C_Pune.jpg\",\n          \"geoCoordinates\": \"18.5190° N, 73.8479° E\",\n          \"ticketPricing\": \"₹50 per person\",\n          \"timeToTravel\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Pune Street Food Tour\",\n          \"placeDetails\": \"Experience the vibrant street food culture of Pune by joining a guided tour or exploring on your own.\",\n          \"placeImageUrl\": \"https://www.thepunefoodie.com/wp-content/uploads/2017/06/Pune-Food-Tour-Blog-Cover-Image.jpg\",\n          \"geoCoordinates\": null,\n          \"ticketPricing\": \"Varies depending on the tour operator\",\n          \"timeToTravel\": \"2-3 hours\"\n        }\n      ],\n      \"bestTimetoVisit\": \"Morning or late afternoon for sightseeing, evening for street food.\"\n    },\n    {\n      \"day\": 3,\n      \"dayPlan\": [\n        {\n          \"placeName\": \"National War Museum\",\n          \"placeDetails\": \"A museum dedicated to the Indian Army, showcasing the history of wars and military equipment.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/National_War_Museum_Pune.jpg/1280px-National_War_Museum_Pune.jpg\",\n          \"geoCoordinates\": \"18.5198° N, 73.8480° E\",\n          \"ticketPricing\": \"₹10 per person\",\n          \"timeToTravel\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Bund Garden\",\n          \"placeDetails\": \"A beautiful garden park with a lake, offering a relaxing escape from the city heat.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Bund_Garden_Pune.jpg/1280px-Bund_Garden_Pune.jpg\",\n          \"geoCoordinates\": \"18.5224° N, 73.8660° E\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Phoenix Market City\",\n          \"placeDetails\": \"A large shopping mall offering a wide range of stores, restaurants, and entertainment options.\",\n          \"placeImageUrl\": \"https://media.timeout.com/images/102869944/image.jpg\",\n          \"geoCoordinates\": \"18.5053° N, 73.8330° E\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"3-4 hours\"\n        }\n      ],\n      \"bestTimetoVisit\": \"Morning or afternoon for sightseeing, evening for shopping and dining.\"\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* **Hotel Prices:** These are approximate prices and may vary depending on the season and availability.\n* **Ticket Prices:** Entry fees for attractions can be subject to change. \n* **Travel Time:** Estimated travel time is based on public transportation or car travel. \n* **Best Time to Visit:** This is a general recommendation; actual best times may vary depending on personal preferences and weather conditions.\n\n**Tips for Budget-Friendly Travel:**\n\n* **Accommodation:** Opt for budget-friendly hotels or guesthouses.\n* **Transportation:** Use public transport (buses, auto-rickshaws) or walk to save money on travel.\n* **Food:** Explore local street food for affordable and delicious meals.\n* **Activities:** Choose free or low-cost activities like visiting parks, gardens, and historical sites.\n* **Discounts:** Look for discounts and deals on online platforms or at tourist offices.\n* **Pack Smart:** Bring your own snacks and water to save money on food expenses.\n"},
          ],
        },
      ],
    });
  
   